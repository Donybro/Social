{"version":3,"sources":["assets/blank-profile-picture-973460_640.png","components/Users/UserItem/UserItem.js","paginator.js","components/Users/UserItem/UserItemContainer.js","components/Users/UsersBlock.jsx"],"names":["module","exports","UserItem","props","useEffect","getUsersThunkCreator","countUsersInOnePage","currentPage","useState","currentList","setCurrentList","paginatorUsersChunks","totalUsersCount","usersPaginatorList","Math","trunc","arr","chunks","iterator","i","push","paginatorUsersList","lastChunk","Object","keys","length","isReady","className","map","p","key","onClick","pageNumber","nextUsersListThunkCreator","isFetching","Preloader","users","u","id","to","src","photos","small","profile_default_photo","name","status","followed","unfollowThunkCreator","followThunkCreator","prev","compose","connect","state","getUsersSellector","getTotalUsersCount","getUsersInOnePage","getCurrentPage","getIsFetching","usersListChunkNumber","getUsersListChunkNumber","usersPage","withAuthRedirect","Users","UserItemContainer"],"mappings":"iIAAAA,EAAOC,QAAU,IAA0B,8D,sJC0E3BC,MAhEhB,SAAkBC,GACdC,qBAAU,WACND,EAAME,qBAAqBF,EAAMG,oBAAoBH,EAAMI,eAC7D,CAACJ,EAAMI,cAHY,MAMeC,mBAAS,GANxB,mBAMhBC,EANgB,KAMHC,EANG,KAQjBC,ECjBuB,SAACC,GAM5B,IALA,IAAIC,EAAqBC,KAAKC,MAAMH,EAAkB,IAClDI,EAAO,GACPC,EAAS,GACTC,EAAW,EAEPC,EAAI,EAAIA,GAAGN,EAAoBM,IAC/BA,EAAE,KAAM,GACRH,EAAII,KAAKD,GACTF,EAAM,2BACCA,GADD,4BAEEC,GAFF,YAEoBF,KAE1BA,EAAM,GACNE,KAGAF,EAAII,KAAKD,GAIjB,OAAOF,EDJqBI,CAAmBlB,EAAMS,iBACjDU,EAAYC,OAAOC,KAAKb,GAAsBc,OAMlD,OAAItB,EAAMuB,QAGF,6BACJ,yBAAKC,UAAU,oBACX,yBAAKA,UAAU,kBACXhB,EAAqBF,GAAamB,KAAI,SAAAC,GAClC,OACI,yBAAKC,IAAKD,EAAGF,UAAWxB,EAAMI,cAAgBsB,EAAI,qCAC5C,kBACDE,QAAS,WAdjB,IAACC,IAesBH,EAdpC1B,EAAM8B,0BAA0B9B,EAAMG,oBAAqB0B,KAW3C,IAIUH,OAIrB1B,EAAM+B,WAAa,kBAACC,EAAA,EAAD,MAAe,KAClChC,EAAMiC,MAAMR,KAAI,SAACS,GACd,OACI,yBAAKV,UAAU,WAAWG,IAAKO,EAAEC,IAC7B,kBAAC,IAAD,CAASC,GAAE,mBAAcF,EAAEC,IAAMX,UAAU,iBACvC,yBAAKA,UAAU,kBACVa,IAAMH,EAAEI,OAAOC,MAASL,EAAEI,OAAOC,MAAQC,MAC9C,yBAAKhB,UAAU,kBACX,yBAAKA,UAAU,2BAA2BU,EAAEO,MAC5C,yBAAKjB,UAAU,yBAAyBU,EAAEQ,UAGjDR,EAAES,SAAW,4BAAQnB,UAAU,yBAAyBI,QACjD,WACI5B,EAAM4C,qBAAqBV,EAAEC,MAF3B,YAIR,4BAAQX,UAAU,uBAAuBI,QACvC,WACI5B,EAAM6C,mBAAmBX,EAAEC,MAFjC,cAQlB,4BAAQX,UAAU,uBAAuBI,QAAS,SAACtB,GAAeC,GAAe,SAAAuC,GACO,OAAGA,IAAO3B,EAAiBA,IAClB2B,OAFjG,KAE8G,KAF9G,MAGA,4BAAQtB,UAAU,uBAAuBI,QAAS,SAACtB,GAAeC,GAAe,SAAAuC,GAAO,OAAU,IAAPA,EAAiB,IAAkBA,OAAU,KAAxI,OA1CG,kBAACd,EAAA,EAAD,O,gCEKEe,cACbC,aAboB,SAACC,GACjB,MAAM,CACFhB,MAAQiB,YAAkBD,GAC1BxC,gBAAiB0C,YAAmBF,GACpC9C,oBAAqBiD,YAAkBH,GACvC7C,YAAaiD,YAAeJ,GAC5BlB,WAAYuB,YAAcL,GAC1BM,qBAAqBC,YAAwBP,GAC7C1B,QAAQ0B,EAAMQ,UAAUlC,WAKR,CAACrB,yBAAqB4B,8BAA0Bc,yBAAqBC,yBAC7Fa,IAFaX,CAEKhD,GCpBN4D,UAVhB,WACI,OACI,yBAAKnC,UAAU,iBACX,yBAAKA,UAAU,cACX,kBAACoC,EAAD","file":"static/js/4.638da050.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/blank-profile-picture-973460_640.9acfe78b.png\";","import React, {useEffect, useState} from \"react\";\r\nimport \"./userItem.css\"\r\n\r\nimport profile_default_photo from \"../../../assets/blank-profile-picture-973460_640.png\"\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport { paginatorUsersList} from \"../../../paginator\";\r\n\r\n\r\n\r\nfunction UserItem(props) {\r\n    useEffect(()=>{\r\n        props.getUsersThunkCreator(props.countUsersInOnePage,props.currentPage);\r\n    },[props.currentPage])\r\n\r\n\r\n    let [currentList ,setCurrentList] = useState(1);\r\n\r\n    let paginatorUsersChunks =  paginatorUsersList(props.totalUsersCount);\r\n    let lastChunk = Object.keys(paginatorUsersChunks).length;\r\n\r\n    let changeList = (pageNumber) => {\r\n        props.nextUsersListThunkCreator(props.countUsersInOnePage, pageNumber)\r\n    }\r\n\r\n    if(!props.isReady){\r\n        return <Preloader/>\r\n    }\r\n    return (<div>\r\n        <div className=\"listPage_wrapper\">\r\n            <div className=\"listPage_Lists\">{\r\n                paginatorUsersChunks[currentList].map(p => {\r\n                    return (\r\n                        <div key={p} className={props.currentPage === p ? \"listPage_button selectedListButton\"\r\n                            : \"listPage_button\"}\r\n                             onClick={() => {\r\n                                 changeList(p)\r\n                             }}> {p}\r\n                        </div>\r\n                    )\r\n                })}</div>\r\n            {props.isFetching ? <Preloader/> : null}\r\n            {props.users.map((u) => {\r\n                return (\r\n                    <div className=\"userItem\" key={u.id}>\r\n                        <NavLink to={`/Profile/${u.id}`} className=\"linkToProfile\">\r\n                            <img className=\"userItem__photo\"\r\n                                 src={(u.photos.small) ? u.photos.small : profile_default_photo}/>\r\n                            <div className=\"userItem__name\">\r\n                                <div className=\"userItem__name_nickname\">{u.name}</div>\r\n                                <div className=\"userItem__name_status\">{u.status}</div>\r\n                            </div>\r\n                        </NavLink>\r\n                        {u.followed ? <button className=\"userItem__unfollow_btn\" onClick={\r\n                                () => {\r\n                                    props.unfollowThunkCreator(u.id)\r\n                                }}>Unfollow</button>\r\n                            : <button className=\"userItem__follow_btn\" onClick={\r\n                                () => {\r\n                                    props.followThunkCreator(u.id)\r\n                                }}>Follow</button>}\r\n                    </div>\r\n\r\n                )\r\n            })}\r\n            <button className=\"listPage_next_button\" onClick={(currentList)=>{setCurrentList(prev=>{\r\n                                                                                                    if(prev===lastChunk)return lastChunk;\r\n                                                                                                    return ++prev}) }}>  {'>>'}  </button>\r\n            <button className=\"listPage_prev_button\" onClick={(currentList)=>{setCurrentList(prev=>{if(prev===1){return 1} else return  --prev})}}>{\"<<\"} </button>\r\n        </div>\r\n\r\n    </div>)\r\n}\r\n\r\nexport default  UserItem;\r\n/*\r\n\r\nlet RefButton = React.forwardRef((ref,props)=>{\r\n    return <button ref{ref} >\r\n            {props.children}\r\n            </button>\r\n})\r\nlet ref = React.createRef();\r\n<RefButton ref={ref}> Click me<RefButton>\r\n\r\n\r\n    */","\r\nexport let paginatorUsersList= (totalUsersCount)=> {\r\n    let usersPaginatorList = Math.trunc(totalUsersCount / 10);\r\n    let arr =  [];\r\n    let chunks = {};\r\n    let iterator = 1;\r\n\r\n    for(let i = 1 ; i<=usersPaginatorList; i++){\r\n        if( i%10 ===0 ){\r\n            arr.push(i);\r\n            chunks ={\r\n                ...chunks,\r\n                [`${iterator}`] : [...arr]\r\n            }\r\n            arr = [];\r\n            iterator++;\r\n        }\r\n        else{\r\n            arr.push(i);\r\n\r\n        }\r\n    }\r\n    return chunks;\r\n}\r\n\r\n","    import {connect} from \"react-redux\";\r\n    import UserItem from \"./UserItem\";\r\n    import {\r\n    followThunkCreator,\r\n    getUsersThunkCreator,\r\n        makeChunksTC,\r\n    nextUsersListThunkCreator,\r\n    unfollowThunkCreator\r\n} from \"../../../redux/users-reducer\";\r\n    import withAuthRedirect from \"../../../hoc/withAuthRedirect\";\r\n    import {compose} from \"redux\";\r\n    import {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getTotalUsersCount,\r\n    getUsersInOnePage, getUsersListChunkNumber,\r\n    getUsersSellector\r\n} from \"../../../selectors/selectors\";\r\n\r\n    let mapStateToProps=(state)=>{\r\n        return{\r\n            users : getUsersSellector(state),\r\n            totalUsersCount :getTotalUsersCount(state),\r\n            countUsersInOnePage: getUsersInOnePage(state),\r\n            currentPage: getCurrentPage(state),\r\n            isFetching: getIsFetching(state),\r\n            usersListChunkNumber:getUsersListChunkNumber(state),\r\n            isReady:state.usersPage.isReady\r\n        }\r\n    }\r\n\r\nexport  default  compose(\r\n    connect(mapStateToProps,{getUsersThunkCreator,nextUsersListThunkCreator,unfollowThunkCreator,followThunkCreator}),\r\n    withAuthRedirect)(UserItem);","import React from \"react\";\r\nimport  \"./usersBlock.css\"\r\nimport UserItemContainer from \"./UserItem/UserItemContainer\";\r\nfunction Users() {\r\n    return(\r\n        <div className=\"wrapper_users\">\r\n            <div className=\"usersBLock\">\r\n                <UserItemContainer/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  Users;\r\n\r\n\r\n"],"sourceRoot":""}